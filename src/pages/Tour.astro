---
import Layout from "../layouts/Layout.astro";
import Welcome from "../components/Welcome.astro";
import "../styles/global.css";
import { prisma } from "../lib/prisma";

const Tours = await prisma.tour.findMany();
---

<Layout>
  <Welcome />

  <section class="mt-12 w-full max-w-3xl mx-auto text-center">
    <h2 class="text-2xl font-bold text-amber-300 mb-6">Paket Tour Tersedia</h2>

    {Tours.length > 0 ? (
      <ul class="space-y-4">
        {Tours.map((tour: { id: number; slug: string; title: string; price?: number }) => (
          <Fragment key={tour.id}>
            <li class="bg-gray-900 p-4 rounded-xl shadow hover:bg-gray-800 transition">
              <a href={`/tours/${tour.slug}`} class="text-lg font-semibold text-amber-400 hover:underline">
                {tour.title}
              </a>
              <p class="text-gray-400">Rp {tour.price?.toLocaleString("id-ID")}</p>
            </li>
          </Fragment>
        ))}
      </ul>
    ) : (
      <p class="text-gray-400">Belum ada tour tersedia.</p>
    )}
  </section>
</Layout>
